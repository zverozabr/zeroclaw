# Οδηγός Ενσωμάτωσης Mattermost

Το ZeroClaw παρέχει εγγενή υποστήριξη για το Mattermost μέσω του REST API v4. Η ενσωμάτωση αυτή είναι ιδανική για περιβάλλοντα αυτοφιλοξενούμενα (self-hosted), ιδιωτικά ή απομονωμένα (air-gapped), όπου η προστασία των δεδομένων επικοινωνίας είναι πρωταρχικής σημασίας.

## Προαπαιτούμενα

1.  **Διακομιστής Mattermost**: Μια ενεργή εγκατάσταση (self-hosted ή Cloud).
2.  **Λογαριασμός Bot**:
    - Μεταβείτε στο **Main Menu > Integrations > Bot Accounts**.
    - Επιλέξτε **Add Bot Account**.
    - Ορίστε ένα όνομα χρήστη (π.χ. `zeroclaw-bot`).
    - Εκχωρήστε τα δικαιώματα `post:all` και `channel:read`.
    - Αποθηκεύστε το **Access Token**.
3.  **ID Καναλιού (Channel ID)**:
    - Ανοίξτε το κανάλι που θα παρακολουθεί το bot.
    - Επιλέξτε την κεφαλίδα του καναλιού και πατήστε **View Info**.
    - Αντιγράψτε το **ID** (π.χ. `7j8k9l...`).

## Ρύθμιση

Προσθέστε τα παρακάτω στο αρχείο `config.toml`, στην ενότητα `[channels_config.mattermost]`:

```toml
[channels_config.mattermost]
url = "https://mm.your-domain.com"
bot_token = "το-access-token-του-bot-σας"
channel_id = "το-id-καναλιού-σας"
allowed_users = ["user-id-1", "user-id-2"]
thread_replies = true
mention_only = true
```

### Παράμετροι Ρύθμισης

| Παράμετρος | Περιγραφή |
|:---|:---|
| `url` | Το βασικό URL του διακομιστή Mattermost. |
| `bot_token` | Το Προσωπικό Διακριτικό Πρόσβασης (PAT) του λογαριασμού bot. |
| `channel_id` | Το ID του καναλιού προς παρακολούθηση (απαιτείται για τη λειτουργία `listen`). |
| `allowed_users` | Λίστα με ID χρηστών που επιτρέπεται να αλληλεπιδρούν με το bot. Χρησιμοποιήστε `["*"]` για καθολική πρόσβαση. |
| `thread_replies` | Εάν οι απαντήσεις θα δημιουργούν νήμα (thread). Προεπιλογή: `true`. |
| `mention_only` | Εάν το bot θα επεξεργάζεται μόνο μηνύματα που το αναφέρουν ρητά (π.χ. `@zeroclaw-bot`). Προεπιλογή: `false`. |

## Διαχείριση Νημάτων (Threaded Conversations)

Το ZeroClaw διαχειρίζεται αυτόματα τα νήματα στο Mattermost:
- Εάν ένας χρήστης απαντήσει σε υπάρχον νήμα, το ZeroClaw θα απαντήσει εντός του ίδιου νήματος.
- Εάν `thread_replies = true`, κάθε νέα απάντηση του bot σε μήνυμα κορυφαίου επιπέδου θα δημιουργεί ένα νέο νήμα.
- Εάν `thread_replies = false`, οι απαντήσεις θα δημοσιεύονται απευθείας στο κανάλι.

## Λειτουργία Μόνο με Αναφορά (Mention-Only)

Όταν η επιλογή `mention_only` είναι ενεργή, το ZeroClaw:
- Αγνοεί μηνύματα που δεν περιλαμβάνουν ρητή αναφορά στο όνομα χρήστη του bot.
- Αφαιρεί το διακριτικό `@bot_username` πριν από την επεξεργασία του μηνύματος από το μοντέλο AI.

Αυτή η λειτουργία συνιστάται για πολυσύχναστα κανάλια, προκειμένου να αποφεύγεται η άσκοπη χρήση πόρων.

## Ασφάλεια και Ιδιωτικότητα

Η ενσωμάτωση έχει σχεδιαστεί για **ελεγχόμενη επικοινωνία**. Με τη χρήση ενός self-hosted διακομιστή Mattermost, το ιστορικό των συνομιλιών παραμένει αποκλειστικά στην υποδομή σας, διασφαλίζοντας την ιδιωτικότητα του πράκτορα AI.
